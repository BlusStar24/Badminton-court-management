<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Qu·∫£n l√Ω s√¢n c·∫ßu l√¥ng</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        #bookingTable td {
            min-width: 100px;
            height: 80px;
            word-wrap: break-word;
            text-align: center;
        }

        #bookingTable {
            table-layout: fixed;
        }

        #booking .overflow-x-auto {
            max-width: 100%;
            overflow-x: auto;
        }

        .court-even {
            background-color: #e0f7fa;
        }

        .court-odd {
            background-color: #fff3e0;
        }

        .custom-cell {
            min-width: 120px;
            height: 100px;
        }
    </style>

</head>

<body class="bg-gray-100 font-sans">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 fixed top-0 left-0 h-screen bg-blue-900 text-white p-6 space-y-4 z-10">
            <h2 class="text-xl font-bold mb-6">Admin Ph√∫ Th·ªãnh</h2>
            <nav class="space-y-2">
                <button onclick="showPanel('dashboard')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üìä <span class="truncate">T·ªïng quan</span>
                </button>
                <button onclick="showPanel('booking')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üìÖ <span class="truncate">Qu·∫£n l√Ω ƒë·∫∑t s√¢n</span>
                </button>
                <button onclick="showPanel('sales')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üõí <span class="truncate">Qu·∫£n l√Ω b√°n h√†ng</span>
                </button>
                <button onclick="showPanel('invoices')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üìÑ <span class="truncate">Qu·∫£n l√Ω h√≥a ƒë∆°n</span>
                </button>
                <button onclick="showPanel('schedule')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üìÜ <span class="truncate">Qu·∫£n l√Ω l·ªãch l√†m</span>
                </button>
                <button onclick="showPanel('salary')"
                    class="flex items-center gap-2 w-full text-left px-4 py-2 rounded hover:bg-blue-700">
                    üí∞ <span class="truncate">Qu·∫£n l√Ω l∆∞∆°ng</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 space-y-8 ml-64">
            <!-- Dashboard -->
            <div id="dashboard" class="panel">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded shadow">
                        <h3 class="text-lg font-semibold mb-2">T·ªïng s·ªë l∆∞·ª£t ƒë·∫∑t s√¢n</h3>
                        <p class="text-2xl font-bold text-blue-600">236 l∆∞·ª£t</p>
                    </div>
                    <div class="bg-white p-6 rounded shadow">
                        <h3 class="text-lg font-semibold mb-2">Doanh thu h√¥m nay</h3>
                        <p class="text-2xl font-bold text-green-600">2.350.000‚Ç´</p>
                    </div>
                    <div class="bg-white p-6 rounded shadow">
                        <h3 class="text-lg font-semibold mb-2">S√¢n ƒëang ho·∫°t ƒë·ªông</h3>
                        <p class="text-2xl font-bold text-yellow-600">5 / 9</p>
                    </div>
                </div>
                <div class="mt-10 bg-white p-6 rounded shadow">
                    <h3 class="text-lg font-semibold mb-4">Th·ªëng k√™ ƒë·∫∑t s√¢n theo ng√†y</h3>
                    <canvas id="bookingChart" height="100"></canvas>
                </div>
            </div>

            <!-- Booking Panel -->
            <div id="booking" class="panel hidden">
                <h1 class="text-2xl font-bold mb-4">üìÖ Qu·∫£n l√Ω ƒë·∫∑t s√¢n</h1>

                <!-- Form nh·∫≠p d·ªØ li·ªáu -->
                <div class="w-full">
                    <div class="bg-white p-6 rounded shadow mb-6 space-y-6 w-full max-w-xl ml-6 min-h-[400px]">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- D√≤ng tr√™n -->
                            <input type="number" placeholder="S·ªë s√¢n" class="p-2 border rounded w-full">
                            <input type="text" placeholder="T√™n kh√°ch h√†ng" class="p-2 border rounded w-full">

                            <!-- D√≤ng d∆∞·ªõi -->
                            <input type="number" placeholder="S·ªë ti·ªÅn (‚Ç´)" class="p-2 border rounded w-full">
                            <div class="flex flex-wrap items-center gap-2">
                                <div class="w-5 h-5 bg-green-400 border rounded"></div><span class="text-sm">Gi·ªù
                                    ch·∫≥n</span>
                                <div class="w-5 h-5 bg-yellow-400 border rounded"></div><span class="text-sm">Gi·ªù
                                    l·∫ª</span>
                                <div class="w-5 h-5 bg-red-400 border rounded"></div><span class="text-sm">Pass
                                    s√¢n</span>
                                <div class="w-5 h-5 bg-blue-400 border rounded"></div><span class="text-sm">C·ªë
                                    ƒë·ªãnh</span>
                                <div class="w-5 h-5 bg-gray-300 border rounded"></div><span class="text-sm">Tr·ªëng</span>
                            </div>
                        </div>
                        <div class="flex gap-4 items-center">
                            <select id="monthSelect" class="p-2 border rounded"></select>
                            <select id="yearSelect" class="p-2 border rounded"></select>
                            <button onclick="renderBookingTable()" class="bg-blue-600 text-white px-4 py-2 rounded">Xem
                                l·ªãch</button>
                        </div>
                    </div>
                </div>

                <!-- L·ªãch ƒë·∫∑t s√¢n -->
                <div class="border rounded overflow-x-auto">
                    <table id="bookingTable" class="min-w-[1400px] table-auto border border-gray-300 bg-white text-sm">
                        <thead class="bg-gray-100 text-gray-700" id="thead"></thead>
                        <tbody id="tbody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Sales Panel -->
            <div id="sales" class="panel hidden">
                <h2 class="text-2xl font-bold mb-4">üõí Qu·∫£n l√Ω b√°n h√†ng</h2>
                <p>Ch·ª©c nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...</p>
            </div>

            <!-- Invoices Panel -->
            <div id="invoices" class="panel hidden">
                <h2 class="text-2xl font-bold mb-4">üìÑ Qu·∫£n l√Ω h√≥a ƒë∆°n</h2>
                <p>Ch·ª©c nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...</p>
            </div>

            <!-- Schedule Panel -->
            <div id="schedule" class="panel hidden">
                <h2 class="text-2xl font-bold mb-4">üìÜ Qu·∫£n l√Ω l·ªãch l√†m</h2>
                <p>Ch·ª©c nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...</p>
            </div>

            <!-- Salary Panel -->
            <div id="salary" class="panel hidden">
                <h2 class="text-2xl font-bold mb-4">üí∞ Qu·∫£n l√Ω l∆∞∆°ng</h2>
                <p>Ch·ª©c nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...</p>
            </div>
        </main>
    </div>

    <script>
        function showPanel(id) {
            document.querySelectorAll('.panel').forEach(p => p.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        // Kh·ªüi t·∫°o bi·ªÉu ƒë·ªì
        const ctx = document.getElementById('bookingChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7', 'CN'],
                datasets: [{
                    label: 'L∆∞·ª£t ƒë·∫∑t',
                    data: [12, 19, 8, 15, 22, 30, 28],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true } }
            }
        });
    </script>
    <script>
        function renderBookingTable() {
            const numCourts = 6;
            const startHour = 5;
            const endHour = 24;

            const selectedMonth = parseInt(document.getElementById('monthSelect').value);
            const selectedYear = parseInt(document.getElementById('yearSelect').value);
            const today = new Date(selectedYear, selectedMonth, 1);

            const dates = [];
            const daysInMonth = new Date(selectedYear, selectedMonth + 1, 0).getDate();
            for (let i = 1; i <= daysInMonth; i++) {
                const d = new Date(selectedYear, selectedMonth, i);
                dates.push({
                    date: d.toISOString().split('T')[0],
                    label: d.toLocaleDateString('vi-VN', { weekday: 'short', day: '2-digit', month: '2-digit' }),
                    hidden: false
                });
            }

            const thead = document.getElementById('thead');
            const tbody = document.getElementById('tbody');
            thead.innerHTML = '';
            tbody.innerHTML = '';

            const headRow = document.createElement('tr');
            headRow.innerHTML = `
        <th class="border px-2 py-1">S√¢n</th>
        <th class="border px-2 py-1">Khung gi·ªù</th>
    `;
            for (const d of dates) {
                const th = document.createElement('th');
                th.className = 'border px-3 py-2';
                th.textContent = d.label;
                th.dataset.date = d.date;
                headRow.appendChild(th);
            }
            thead.appendChild(headRow);

            for (let court = 1; court <= numCourts; court++) {
                const courtClass = court % 2 === 0 ? 'court-even' : 'court-odd';

                for (let hour = startHour; hour < endHour; hour++) {
                    const tr = document.createElement('tr');

                    tr.innerHTML = `
                <td class="border px-2 py-1 font-bold text-blue-600 w-8 ${courtClass}">${court}</td>
                <td class="border px-2 py-1 text-gray-700">${hour}h - ${hour + 1}h</td>
            `;

                    for (const d of dates) {
                        const td = document.createElement('td');
                        td.className = 'border px-4 py-3 text-center custom-cell';
                        td.dataset.court = court;
                        td.dataset.hour = hour;
                        td.dataset.date = d.date;
                        tr.appendChild(td);
                    }

                    tbody.appendChild(tr);
                }
            }
        }

        // G·ªçi l√∫c trang t·∫£i xong
        window.onload = () => {
            const monthSelect = document.getElementById('monthSelect');
            const yearSelect = document.getElementById('yearSelect');
            const currentDate = new Date();

            for (let m = 0; m < 12; m++) {
                const opt = document.createElement('option');
                opt.value = m;
                opt.textContent = new Date(0, m).toLocaleString('vi-VN', { month: 'long' });
                if (m === currentDate.getMonth()) opt.selected = true;
                monthSelect.appendChild(opt);
            }

            for (let y = currentDate.getFullYear() - 1; y <= currentDate.getFullYear() + 1; y++) {
                const opt = document.createElement('option');
                opt.value = y;
                opt.textContent = y;
                if (y === currentDate.getFullYear()) opt.selected = true;
                yearSelect.appendChild(opt);
            }

            renderBookingTable(); // Hi·ªÉn th·ªã m·∫∑c ƒë·ªãnh ban ƒë·∫ßu
        };
    </script>
</body>

</html>